name="filesystem"
version="1"
source="nil"
build="no_build"
build_args=""
install="custom_install"
install_args=""
verify="no_verify"

custom_install() {
	cd /
	mkdir -pv {bin,boot,etc/opt,home,lib,mnt,opt,run}
	mkdir -pv {media/{floppy,cdrom},sbin,srv,var}
	install -dv -m 0750 /root
	install -dv -m 1777 /tmp /var/tmp
	mkdir -pv usr/{,local/}{bin,include,lib,sbin,src}
	mkdir -pv usr/{,local/}share/{doc,info,locale,man}
	mkdir -v  usr/{,local/}share/{misc,terminfo,zoneinfo}
	mkdir -pv usr/{,local/}share/man/man{1..8}
	for dir in usr usr/local; do
		ln -sv share/{man,doc,info} $dir
	done
	case $(uname -m) in
		x86_64) ln -sv lib lib64 && ln -sv lib usr/lib64 ;;
	esac
	mkdir -v var/{log,mail,spool}
	ln -sv run var/run
	ln -sv run/lock var/lock
	mkdir -pv var/{opt,cache,lib/{misc,locate},local}
}
