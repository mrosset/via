#!/bin/sh

set -e
set -h
set -o nounset 


cache=$PWD/cache
plans=$PWD/plans
builds=$cache/builds
sources=$cache/sources
stages=$cache/stages
logs=$PWD/logs

GNU_MIRROR="http://mirrors.kernel.org/gnu"

create() {
	for d in $logs $builds $sources $stages ; do
		if [ ! -d $d ]; then
			log $FUNCNAME $d
			mkdir -p $d
		fi
	done
}

download() {

}

# <action> <details>
log() {
	printf "%-15.15s %s\n" "$1" "$2"
}

gnu_build() {
	$stage/$fullname/configure $confargs $buildargs
	make -j2
}

gnu_make() {
	cp -a $stage/$fullname $(dirname $bdir)
	make -j2 $buildargs
}

gnu_install() {
	make install $installargs 
}

tail() {
	inotail -f logs/via.log
}

create
#sanity
#action=$1 
#shift
#$action $@
